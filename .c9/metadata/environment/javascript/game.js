{"changed":true,"filter":false,"title":"game.js","tooltip":"/javascript/game.js","value":"/*\n- Counting the rounds. \n- Every time the user clicks #buttonNext myRound() is executed and '1' is added to #round. \n*/\nvar roundnr = $(\"#round\"); \n\nfunction myRound() {\n    roundnr.val( parseInt(roundnr.val()) +1 );\n    roundnrVal += 1;\n    }\n\n/*\n- If roundnr becomes bigger than 'numberOfRounds' (10 rounds are played) the game is over. \n- 'roundnrVal' starts at 2, because the counting of the round starts after the first image is shown.\n- As long as 'roundnrVal' is smaller than 'numberOfRounds' continue with the game: displayImage().\n*/\nvar numberOfRounds = 10;\nvar roundnrVal = 2;\n\nfunction myRoundCounter() { \n    $(\"#buttonNext\").addClass(\"hidden\");\n    if (roundnrVal > numberOfRounds) {\n        commentOnScore();\n        $(\"#comment, #count, #headerQuestion, .flip-card-inner\").addClass(\"hidden\");\n        $(\"#buttonReset\").removeClass(\"hidden\");\n        $(\"#textField\").val(\"\");\n        $(\"#scoreboard\").addClass(\"endScoreClass\").removeClass(\"scoreboardClass\");\n        $(\"#yourScore\").removeClass(\"hidden\");\n        $(\"#scoreboardSp\").css(\"color\", \"#FEE801\");\n        } else {\n        $(\"#comment\").addClass(\"hidden\");\n        $(\"#buttonHint, #buttonSubmit\").removeClass(\"hidden\");\n        $(\"#textField\").removeClass(\"hidden\").val(\"\");\n        $(\"#newImage\").removeClass(\"gotHint gotRightAnswer gotWrongAnswer\");\n        displayImage();\n    }   \n}\n\n/*\n- Run through images-array and show random image out of 'images'. \n- Already used images are not used again, so no user gets the same image twice in the same game.\n*/\nvar images = ['images/cyclist-1-empty.png', 'images/cyclist-2-empty.png', 'images/cyclist-3-empty.png', \n              'images/cyclist-4-empty.png', 'images/cyclist-5-empty.png', 'images/cyclist-6-empty.png', \n              'images/cyclist-7-empty.png', 'images/cyclist-8-empty.png', 'images/cyclist-9-empty.png', \n              'images/cyclist-10-empty.png', 'images/cyclist-11-empty.png', 'images/cyclist-12-empty.png', \n              'images/cyclist-13-empty.png', 'images/cyclist-14-empty.png', 'images/cyclist-15-empty.png'];\n\nvar usedImages = [];\nvar usedImagesCount = 0;\n\nfunction displayImage() {\n    var num = Math.floor(Math.random() *15);\n    if (!usedImages[num]) {\n        document.getElementById(\"newImage\").src = images[num];\n        document.getElementById(\"newImageBack\").src= images[num];\n        usedImages[num] = true;\n        usedImagesCount++;\n        if (usedImagesCount === images.length) {\n            usedImagesCount = 0;\n            usedImages = [];\n        }\n    } else {\n        displayImage();\n    }\n} \n\n/*\n- The Next-Button triggers myRoundCounter() and myRound(). \n- myRoundCounter() starts displayImage() as long as 'roundnrVal' is smaller than 'numberOfRounds'\n*/\n$(\"#buttonNext\").click(function() {\n    myRoundCounter();\n    myRound();    \n});\n\n/*-\n- functionStartGame() starts the game and shows the first random image from the images-array\n- Header is hidden on devices smaller than 700px.\n*/\nvar headerScreenSize = window.matchMedia(\"(max-width: 700px)\");\n\nfunction functionStartGame(){\n    displayImage();\n    $(\"#buttonStart, #buttonHowToPlayTheGame\").addClass(\"hidden\");\n    $(\"#buttonHint, #buttonSubmit, #textField, #scoreboardSp, #count, #round\").removeClass(\"hidden\");\n    if (headerScreenSize.matches) { \n    $(\"header\").addClass(\"hidden\");\n    } else {\n    }\n}\n\n/*\n- The Start-Button triggers functionStartGame\n*/\n$(\"#buttonStart\").click(function() {\n    functionStartGame();        \n});\n\n/*\n- Flip() is used to make the main image flip.\n- Flip() takes 600ms. \n*/\n$(function() {\n    $(\".flip-card-inner\").flip({ \n        trigger: \"manual\", speed: 600\n    });\n});\n \n/*\n- functionGiveHint() flips the main image.\n- The empty-image is replaced by the flag-image, which means the flag of the cyclists nation is show after flip().\n- The class 'GotHint' is added to the image, to let the scoreboard know the user got a hint (that costs a point).\n- The hint-button is hidden for the remainder of the round.\n- setTimeout() is set to 200ms to make sure the new image isn't visible before flip() is done far enough.  \n*/\nfunction functionGiveHint() {\n    var nSrcHint = $(\"#newImage, #newImageBack\").attr('src').replace(\"-empty.png\", \"-flag.png\");   \n    $(\"#buttonHint\").addClass(\"hidden\");  \n    $(\"#newImage\").addClass(\"gotHint\");          \n    $(\".flip-card-inner\").flip('toggle');\n        setTimeout(function () {   \n            $(\"#newImage, #newImageBack\").attr('src', nSrcHint);\n        }, 200);\n} \n\n/* \nThe Hint Button triggers functionGiveHint()\n*/\n$(\"#buttonHint\").click(function() {\n    functionGiveHint();\n});\n\n/*\n- rightAnswer() flips the main image.\n- The empty-image is replaced by the image with the name of the cyclist and the flag of his nation after flip().\n- The flag-image is replaced by the image with the name of the cyclist and the flag of his nation after flip().\n*/\nfunction rightAnswer() {\n    var nSrc = $(\"#newImage, #newImageBack\").attr('src').replace(\"-empty\", \"\").replace(\"-flag\", \"\");  \n        $(\".flip-card-inner\").flip('toggle');\n        setTimeout(function () {\n            $(\"#newImage, #newImageBack\").attr('src', nSrc);  \n        }, 200);\n    } \n    \n/*\n- myScore takes care of the scoreboard and the comments after each correct answer.\n- \"Yes, that's him\" is shown after a correct answer.\n- If the user recieved a hint and got a wrong answer, 1 point is added to te scoreboard.\n- If the user either recieved a hint or got a wrong answer, 2 points are added to te scoreboard.\n- If the user recieved no hint and didn't give a wrong answer, 3 points is added to te scoreboard.\n*/\nvar score = $(\"#scoreboard\");\n\nfunction myScore() {\n    $(\"#comment\").removeClass(\"hidden\").text(\"Yes, that's him!\");\n    if ($(\"#newImage\").hasClass(\"gotHint\") &&  $(\"#newImage\").hasClass(\"gotWrongAnswer\")) {\n        score.val( parseInt(score.val()) + 1 ); \n    } else if ($(\"#newImage\").hasClass(\"gotHint\") || $(\"#newImage\").hasClass(\"gotWrongAnswer\")) {\n        score.val( parseInt(score.val()) + 2 ); \n    } else {\n        score.val( parseInt(score.val()) + 3 );\n    }\n}\n \n/*\n- runGame() checks the given answer against the right answer.\n- All answer are turned to uppercase, to make sure the use of upper- or lowercase doesn't have any influence.\n- If the answer is correct rightAnswer() and myScore() are executed.\n- If the answer is wrong, the image is blurred and the user gets the option to try again or to give up.\n- Trying again costs one point. Giving a wrong answer again will make the right answer appear. No point are given.\n*/\nfunction runGame() {\n    $(\"#buttonNext\").removeClass(\"hidden\");\n    $(\"#buttonHint, #buttonSubmit, #textField\").addClass(\"hidden\");\n    var answer = $(\"#textField\").val(); \n    var nSrc = $(\"#newImage, #newImageBack\").attr('src').replace(\"-empty\", \"\").replace(\"-flag\", \"\");\n    if ($(\"#newImage\").attr('src').indexOf(\"-1-\") > -1 && answer.toUpperCase() == \"JACQUES ANQUETIL\") {\n        rightAnswer();    \n        myScore();\n    } else if ($(\"#newImage\").attr('src').indexOf(\"-2-\") > -1 && answer.toUpperCase() == \"LANCE ARMSTRONG\") {\n        rightAnswer();\n        myScore();\n    } else if ($(\"#newImage\").attr('src').indexOf(\"-3-\") > -1 && answer.toUpperCase() == \"GINO BARTALI\") {\n        rightAnswer();\n        myScore();\n    } else if ($(\"#newImage\").attr('src').indexOf(\"-4-\") > -1 && answer.toUpperCase() == \"FAUSTO COPPI\") {\n        rightAnswer();\n        myScore();\n    } else if ($(\"#newImage\").attr('src').indexOf(\"-5-\") > -1 && answer.toUpperCase() == \"MIGUEL INDURAIN\") {\n        rightAnswer();\n        myScore();\n    } else if ($(\"#newImage\").attr('src').indexOf(\"-6-\") > -1 && answer.toUpperCase() == \"BERNARD HINAULT\") {\n        rightAnswer();\n        myScore();\n    } else if ($(\"#newImage\").attr('src').indexOf(\"-7-\") > -1 && answer.toUpperCase() == \"LOUISON BOBET\") {\n        rightAnswer();\n        myScore();\n    } else if ($(\"#newImage\").attr('src').indexOf(\"-8-\") > -1 && answer.toUpperCase() == \"JOOP ZOETEMELK\") {\n        rightAnswer();\n        myScore();\n    } else if ($(\"#newImage\").attr('src').indexOf(\"-9-\") > -1 && answer.toUpperCase() == \"EDDY MERCKX\") {\n        rightAnswer();\n        myScore();\n    } else if ($(\"#newImage\").attr('src').indexOf(\"-10-\") > -1 && answer.toUpperCase() == \"SEAN KELLY\") {\n        rightAnswer();\n        myScore();\n    } else if ($(\"#newImage\").attr('src').indexOf(\"-11-\") > -1 && answer.toUpperCase() == \"ALFREDO BINDA\") {\n        rightAnswer();\n        myScore();\n    } else if ($(\"#newImage\").attr('src').indexOf(\"-12-\") > -1 && answer.toUpperCase() == \"RIK VAN STEENBERGEN\") {\n        rightAnswer();\n        myScore();\n    } else if ($(\"#newImage\").attr('src').indexOf(\"-13-\") > -1 && answer.toUpperCase() == \"OSCAR FREIRE\") {\n        rightAnswer();\n        myScore();\n    } else if ($(\"#newImage\").attr('src').indexOf(\"-14-\") > -1 && answer.toUpperCase() == \"LAURENT JALABERT\") {\n        rightAnswer();\n        myScore();\n    } else if ($(\"#newImage\").attr('src').indexOf(\"-15-\") > -1 && answer.toUpperCase() == \"MARCO PANTANI\") {\n        rightAnswer();\n        myScore();\n    } else {\n        $(\"#newImage\").addClass('blur');\n        $(\"#newImageBack\").addClass('blur');  \n        if ($(\"#newImage\").hasClass(\"gotWrongAnswer\")){\n            $(\"#newImage, #newImageBack\").attr('src', nSrc);\n            $(\"#buttonNext\").removeClass(\"hidden\");\n            $(\"#comment\").removeClass(\"hidden\").text(\"Sorry, no score\");\n            $(\"#newImage, #newImageBack\").removeClass('blur');\n            } else {\n            $(\"#comment\").removeClass(\"hidden\").text(\"Nope, that's not him\");\n            $(\"#buttonTryAgain, #buttonGiveUp\").removeClass(\"hidden\");\n            $(\"#buttonNext\").addClass(\"hidden\");\n            $(\"#newImage\").addClass(\"gotWrongAnswer\");   \n        }\n    }\n}\n\n/*\nThe Submit Button triggers runGame().\n*/\n$(\"#buttonSubmit\").click(function() {\n    runGame();\n});\n\n/*\nWhen the player is in the textfield, hitting 'Enter' on the key board will call runGame() \n*/\n$(\"#textField\").keypress(function(event) {\n    if (event.which == 13) {\n       runGame();\n    }\n  }); \n\n/* \n- If after a wrong answer the user wants another try:\n- The 'blur'-class is removed.\n*/\n$(\"#buttonTryAgain\").click(function() {\n    $(\"#newImage, #newImageBack\").removeClass('blur');\n    $(\"#comment, #buttonTryAgain, #buttonGiveUp\").addClass(\"hidden\");\n    $(\"#buttonSubmit, #textField\").removeClass(\"hidden\");\n    if ($(\"#newImage\").attr('src').endsWith(\"empty.png\")) {\n        $(\"#buttonHint\").removeClass(\"hidden\");\n    } else if ($(\"#newImage\").attr('src').endsWith(\"flag.png\")) {\n        $(\"#buttonHint\").addClass(\"hidden\");\n    }     \n});\n\n/* \n- If after a wrong answer the user gives up:\n- rightAnswer() is run.\n- The \"Sorry, no score\"-message shows.\n*/\n$(\"#buttonGiveUp\").click(function() {\n    rightAnswer();\n    $(\"#newImage, #newImageBack\").removeClass('blur');\n    $(\"#comment\").removeClass(\"hidden\").text(\"Sorry, no score\");\n    $(\"#buttonTryAgain, #buttonGiveUp\").addClass(\"hidden\");\n    $(\"#buttonNext\").removeClass(\"hidden\");\n});\n\n/*\n- commentOnScore() takes care of the comments on the score the user reached at the end of the game. The number of points scored, decide which message.\n*/\nfunction commentOnScore() {   \n    $(\"#scoreComment\").removeClass(\"hidden\"); \n    if (score.val() < 10) {\n        $(\"#scoreComment\").text(\"Maybe you should try again?\");\n    } else if (score.val() < 15) { \n        $(\"#scoreComment\").text(\"Not too bad!\");\n    } else if (score.val() < 20) { \n        $(\"#scoreComment\").text(\"You're getting there!\");\n    } else if (score.val() < 25) { \n        $(\"#scoreComment\").text(\"Nice job!\");\n    } else if (score.val() < 29) { \n        $(\"#scoreComment\").text(\"Wow, that's impressive!\");\n    } else if (score.val() == 30) { \n        $(\"#scoreComment\").text(\"You're a true champion!\");\n    } else {\n        $(\"#scoreComment\").text(\"Something went wrong...\");\n    }\n}\n\n/*\nReset the game after finishing it by clicking the Play Again-button. \n*/\n$(function(){\n\n    $(\"#buttonReset\").click(function() {\n        window.location.reload();\n    });});\n\n/*\nFor Mobile only: Jump down the page for an explanation of the rules and back up again to start the game.\n*/\nfunction explainGame() {\n    window.location.href = '#sidebar';\n  }\n\n$(\"#buttonHowToPlayTheGame\").click(function() {\n    explainGame();\n});\n\nfunction goBackUp() {\n    window.location.href = '#headerQuestion'; \n  }\n\n$(\"#buttonGoBackUp\").click(function() {\n    goBackUp();\n});","undoManager":{"mark":2,"position":4,"stack":[[{"start":{"row":0,"column":0},"end":{"row":333,"column":3},"action":"remove","lines":["/*","- Counting the rounds. ","- Every time the user clicks #buttonNext myRound() is executed and '1' is added to #round. ","*/","var roundnr = $(\"#round\"); ","","function myRound() {","    roundnr.val( parseInt(roundnr.val()) +1 );","    roundnrVal += 1;","    }","","/*","- If roundnr becomes bigger than 'numberOfRounds' (10 rounds are played) the game is over. ","- 'roundnrVal' starts at 2, because the counting of the round starts after the first image is shown.","- As long as 'roundnrVal' is smaller than 'numberOfRounds' continue with the game: displayImage().","*/","var numberOfRounds = 10;","var roundnrVal = 2;","","function myRoundCounter() { ","    $(\"#buttonNext\").addClass(\"hidden\");","    if (roundnrVal > numberOfRounds) {","        commentOnScore();","        $(\"#comment, #count, #headerQuestion, .flip-card-inner\").addClass(\"hidden\");","        $(\"#buttonReset\").removeClass(\"hidden\");","        $(\"#textField\").val(\"\");","        $(\"#scoreboard\").addClass(\"endScoreClass\").removeClass(\"scoreboardClass\");","        $(\"#yourScore\").removeClass(\"hidden\");","        $(\"#scoreboardSp\").css(\"color\", \"#FEE801\");","        } else {","        $(\"#comment\").addClass(\"hidden\");","        $(\"#buttonHint, #buttonSubmit\").removeClass(\"hidden\");","        $(\"#textField\").removeClass(\"hidden\").val(\"\");","        $(\"#newImage\").removeClass(\"gotHint gotRightAnswer gotWrongAnswer\");","        displayImage();","    }   ","}","","/*","- Run through images-array and show random image out of 'images'. ","- Already used images are not used again, so no user gets the same image twice in the same game.","*/","var images = ['images/cyclist-1-empty.png', 'images/cyclist-2-empty.png', 'images/cyclist-3-empty.png', ","              'images/cyclist-4-empty.png', 'images/cyclist-5-empty.png', 'images/cyclist-6-empty.png', ","              'images/cyclist-7-empty.png', 'images/cyclist-8-empty.png', 'images/cyclist-9-empty.png', ","              'images/cyclist-10-empty.png', 'images/cyclist-11-empty.png', 'images/cyclist-12-empty.png', ","              'images/cyclist-13-empty.png', 'images/cyclist-14-empty.png', 'images/cyclist-15-empty.png'];","","var usedImages = [];","var usedImagesCount = 0;","","function displayImage() {","    var num = Math.floor(Math.random() *15);","    if (!usedImages[num]) {","        document.getElementById(\"newImage\").src = images[num];","        document.getElementById(\"newImageBack\").src= images[num];","        usedImages[num] = true;","        usedImagesCount++;","        if (usedImagesCount === images.length) {","            usedImagesCount = 0;","            usedImages = [];","        }","    } else {","        displayImage();","    }","} ","","/*","- The Next-Button triggers myRoundCounter() and myRound(). ","- myRoundCounter() starts displayImage() as long as 'roundnrVal' is smaller than 'numberOfRounds'","*/","$(\"#buttonNext\").click(function() {","    myRoundCounter();","    myRound();    ","});","","/*-","- functionStartGame() starts the game and shows the first random image from the images-array","- Header is hidden on devices smaller than 700px.","*/","var headerScreenSize = window.matchMedia(\"(max-width: 700px)\");","","function functionStartGame(){","    displayImage();","    $(\"#buttonStart, #buttonHowToPlay\").addClass(\"hidden\");","    $(\"#buttonHint, #buttonSubmit, #textField, #scoreboardSp, #count, #round\").removeClass(\"hidden\");","    if (headerScreenSize.matches) { ","    $(\"header\").addClass(\"hidden\");","    } else {","    }","}","","/*","- The Start-Button triggers functionStartGame","*/","$(\"#buttonStart\").click(function() {","    functionStartGame();        ","});","","/*","- Flip() is used to make the main image flip.","- Flip() takes 600ms. ","*/","$(function() {","    $(\".flip-card-inner\").flip({ ","        trigger: \"manual\", speed: 600","    });","});"," ","/*","- functionGiveHint() flips the main image.","- The empty-image is replaced by the flag-image, which means the flag of the cyclists nation is show after flip().","- The class 'GotHint' is added to the image, to let the scoreboard know the user got a hint (that costs a point).","- The hint-button is hidden for the remainder of the round.","- setTimeout() is set to 200ms to make sure the new image isn't visible before flip() is done far enough.  ","*/","function functionGiveHint() {","    var nSrcHint = $(\"#newImage, #newImageBack\").attr('src').replace(\"-empty.png\", \"-flag.png\");   ","    $(\"#buttonHint\").addClass(\"hidden\");  ","    $(\"#newImage\").addClass(\"gotHint\");          ","    $(\".flip-card-inner\").flip('toggle');","        setTimeout(function () {   ","            $(\"#newImage, #newImageBack\").attr('src', nSrcHint);","        }, 200);","} ","","/* ","The Hint Button triggers functionGiveHint()","*/","$(\"#buttonHint\").click(function() {","    functionGiveHint();","});","","/*","- rightAnswer() flips the main image.","- The empty-image is replaced by the image with the name of the cyclist and the flag of his nation after flip().","- The flag-image is replaced by the image with the name of the cyclist and the flag of his nation after flip().","*/","function rightAnswer() {","    ","    var nSrc = $(\"#newImage, #newImageBack\").attr('src').replace(\"-empty\", \"\").replace(\"-flag\", \"\");  ","        $(\".flip-card-inner\").flip('toggle');","        setTimeout(function () {","            $(\"#newImage, #newImageBack\").attr('src', nSrc);  ","        }, 200);","    } ","    ","/*","- myScore takes care of the scoreboard and the comments after each correct answer.","- \"Yes, that's him\" is shown after a correct answer.","- If the user recieved a hint and got a wrong answer, 1 point is added to te scoreboard.","- If the user either recieved a hint or got a wrong answer, 2 points are added to te scoreboard.","- If the user recieved no hint and didn't give a wrong answer, 3 points is added to te scoreboard.","*/","var score = $(\"#scoreboard\");","","function myScore() {","    $(\"#comment\").removeClass(\"hidden\").text(\"Yes, that's him!\");","    if ($(\"#newImage\").hasClass(\"gotHint\") &&  $(\"#newImage\").hasClass(\"gotWrongAnswer\")) {","        score.val( parseInt(score.val()) + 1 ); ","    } else if ($(\"#newImage\").hasClass(\"gotHint\") || $(\"#newImage\").hasClass(\"gotWrongAnswer\")) {","        score.val( parseInt(score.val()) + 2 ); ","    } else {","        score.val( parseInt(score.val()) + 3 );","    }","}"," ","/*","- runGame() checks the given answer against the right answer.","- All answer are turned to uppercase, to make sure the use of upper- or lowercase doesn't have any influence.","- If the answer is correct rightAnswer() and myScore() are executed.","- If the answer is wrong, the image is blurred and the user gets the option to try again or to give up.","- Trying again costs one point. Giving a wrong answer again will make the right answer appear. No point are given.","*/","function runGame() {","    $(\"#buttonNext\").removeClass(\"hidden\");","    $(\"#buttonHint, #buttonSubmit, #textField\").addClass(\"hidden\");","    var answer = $(\"#textField\").val(); ","    var nSrc = $(\"#newImage, #newImageBack\").attr('src').replace(\"-empty\", \"\").replace(\"-flag\", \"\");","    if ($(\"#newImage\").attr('src').indexOf(\"-1-\") > -1 && answer.toUpperCase() == \"JACQUES ANQUETIL\") {","        rightAnswer();    ","        myScore();","    } else if ($(\"#newImage\").attr('src').indexOf(\"-2-\") > -1 && answer.toUpperCase() == \"LANCE ARMSTRONG\") {","        rightAnswer();","        myScore();","    } else if ($(\"#newImage\").attr('src').indexOf(\"-3-\") > -1 && answer.toUpperCase() == \"GINO BARTALI\") {","        rightAnswer();","        myScore();","    } else if ($(\"#newImage\").attr('src').indexOf(\"-4-\") > -1 && answer.toUpperCase() == \"FAUSTO COPPI\") {","        rightAnswer();","        myScore();","    } else if ($(\"#newImage\").attr('src').indexOf(\"-5-\") > -1 && answer.toUpperCase() == \"MIGUEL INDURAIN\") {","        rightAnswer();","        myScore();","    } else if ($(\"#newImage\").attr('src').indexOf(\"-6-\") > -1 && answer.toUpperCase() == \"BERNARD HINAULT\") {","        rightAnswer();","        myScore();","    } else if ($(\"#newImage\").attr('src').indexOf(\"-7-\") > -1 && answer.toUpperCase() == \"LOUISON BOBET\") {","        rightAnswer();","        myScore();","    } else if ($(\"#newImage\").attr('src').indexOf(\"-8-\") > -1 && answer.toUpperCase() == \"JOOP ZOETEMELK\") {","        rightAnswer();","        myScore();","    } else if ($(\"#newImage\").attr('src').indexOf(\"-9-\") > -1 && answer.toUpperCase() == \"EDDY MERCKX\") {","        rightAnswer();","        myScore();","    } else if ($(\"#newImage\").attr('src').indexOf(\"-10-\") > -1 && answer.toUpperCase() == \"SEAN KELLY\") {","        rightAnswer();","        myScore();","    } else if ($(\"#newImage\").attr('src').indexOf(\"-11-\") > -1 && answer.toUpperCase() == \"ALFREDO BINDA\") {","        rightAnswer();","        myScore();","    } else if ($(\"#newImage\").attr('src').indexOf(\"-12-\") > -1 && answer.toUpperCase() == \"RIK VAN STEENBERGEN\") {","        rightAnswer();","        myScore();","    } else if ($(\"#newImage\").attr('src').indexOf(\"-13-\") > -1 && answer.toUpperCase() == \"OSCAR FREIRE\") {","        rightAnswer();","        myScore();","    } else if ($(\"#newImage\").attr('src').indexOf(\"-14-\") > -1 && answer.toUpperCase() == \"LAURENT JALABERT\") {","        rightAnswer();","        myScore();","    } else if ($(\"#newImage\").attr('src').indexOf(\"-15-\") > -1 && answer.toUpperCase() == \"MARCO PANTANI\") {","        rightAnswer();","        myScore();","    } else {","        $(\"#newImage\").addClass('blur');","        $(\"#newImageBack\").addClass('blur');  ","        if ($(\"#newImage\").hasClass(\"gotWrongAnswer\")){","            $(\"#newImage, #newImageBack\").attr('src', nSrc);","            $(\"#buttonNext\").removeClass(\"hidden\");","            $(\"#comment\").removeClass(\"hidden\").text(\"Sorry, no score\");","            $(\"#newImage, #newImageBack\").removeClass('blur');","            } else {","            $(\"#comment\").removeClass(\"hidden\").text(\"Nope, that's not him\");","            $(\"#buttonTryAgain, #buttonGiveUp\").removeClass(\"hidden\");","            $(\"#buttonNext\").addClass(\"hidden\");","            $(\"#newImage\").addClass(\"gotWrongAnswer\");   ","        }","    }","}","","/*","The Submit Button triggers runGame().","*/","$(\"#buttonSubmit\").click(function() {","    runGame();","});","","/*","When the player is in the textfield, hitting 'Enter' on the key board will call runGame() ","*/","$(\"#textField\").keypress(function(event) {","    if (event.which == 13) {","       runGame();","    }","  }); ","","/* ","- If after a wrong answer the user wants another try:","- The 'blur'-class is removed.","*/","$(\"#buttonTryAgain\").click(function() {","    $(\"#newImage, #newImageBack\").removeClass('blur');","    $(\"#comment, #buttonTryAgain, #buttonGiveUp\").addClass(\"hidden\");","    $(\"#buttonSubmit, #textField\").removeClass(\"hidden\");","    if ($(\"#newImage\").attr('src').endsWith(\"empty.png\")) {","        $(\"#buttonHint\").removeClass(\"hidden\");","    } else if ($(\"#newImage\").attr('src').endsWith(\"flag.png\")) {","        $(\"#buttonHint\").addClass(\"hidden\");","    }     ","});","","/* ","- If after a wrong answer the user gives up:","- rightAnswer() is run.","- The \"Sorry, no score\"-message shows.","*/","$(\"#buttonGiveUp\").click(function() {","    rightAnswer();","    $(\"#newImage, #newImageBack\").removeClass('blur');","    $(\"#comment\").removeClass(\"hidden\").text(\"Sorry, no score\");","    $(\"#buttonTryAgain, #buttonGiveUp\").addClass(\"hidden\");","    $(\"#buttonNext\").removeClass(\"hidden\");","});","","/*","- commentOnScore() takes care of the comments on the score the user reached at the end of the game.","*/","function commentOnScore() {   ","    $(\"#scoreComment\").removeClass(\"hidden\"); ","    if (score.val() < 10) {","        $(\"#scoreComment\").text(\"Maybe you should try again?\");","    } else if (score.val() < 15) { ","        $(\"#scoreComment\").text(\"Not too bad!\");","    } else if (score.val() < 20) { ","        $(\"#scoreComment\").text(\"You're getting there!\");","    } else if (score.val() < 25) { ","        $(\"#scoreComment\").text(\"Nice job!\");","    } else if (score.val() < 29) { ","        $(\"#scoreComment\").text(\"Wow, that's impressive!\");","    } else if (score.val() == 30) { ","        $(\"#scoreComment\").text(\"You're a true champion!\");","    } else {","        $(\"#scoreComment\").text(\"Something went wrong...\");","    }","}","","/*","Reset the game after finishing it by clicking the Play Again-button. ","*/","$(function(){","","    $(\"#buttonReset\").click(function() {","        window.location.reload();","    });});","","/*","For Mobile only: Jump down the page for an explanation of the rules and back up again to start the game.","*/","function explainGame() {","    window.location.href = '#sidebar';","  }","","$(\"#buttonHowToPlay\").click(function() {","    explainGame();","});","","function goBackUp() {","    window.location.href = '#headerQuestion'; ","  }","","$(\"#buttonGoBackUp\").click(function() {","    goBackUp();","});"],"id":83},{"start":{"row":0,"column":0},"end":{"row":333,"column":3},"action":"insert","lines":["/*","- Counting the rounds. ","- Every time the user clicks #buttonNext myRound() is executed and '1' is added to #round. ","*/","var roundnr = $(\"#round\"); ","","function myRound() {","    roundnr.val( parseInt(roundnr.val()) +1 );","    roundnrVal += 1;","    }","","/*","- If roundnr becomes bigger than 'numberOfRounds' (10 rounds are played) the game is over. ","- 'roundnrVal' starts at 2, because the counting of the round starts after the first image is shown.","- As long as 'roundnrVal' is smaller than 'numberOfRounds' continue with the game: displayImage().","*/","var numberOfRounds = 10;","var roundnrVal = 2;","","function myRoundCounter() { ","    $(\"#buttonNext\").addClass(\"hidden\");","    if (roundnrVal > numberOfRounds) {","        commentOnScore();","        $(\"#comment, #count, #headerQuestion, .flip-card-inner\").addClass(\"hidden\");","        $(\"#buttonReset\").removeClass(\"hidden\");","        $(\"#textField\").val(\"\");","        $(\"#scoreboard\").addClass(\"endScoreClass\").removeClass(\"scoreboardClass\");","        $(\"#yourScore\").removeClass(\"hidden\");","        $(\"#scoreboardSp\").css(\"color\", \"#FEE801\");","        } else {","        $(\"#comment\").addClass(\"hidden\");","        $(\"#buttonHint, #buttonSubmit\").removeClass(\"hidden\");","        $(\"#textField\").removeClass(\"hidden\").val(\"\");","        $(\"#newImage\").removeClass(\"gotHint gotRightAnswer gotWrongAnswer\");","        displayImage();","    }   ","}","","/*","- Run through images-array and show random image out of 'images'. ","- Already used images are not used again, so no user gets the same image twice in the same game.","*/","var images = ['images/cyclist-1-empty.png', 'images/cyclist-2-empty.png', 'images/cyclist-3-empty.png', ","              'images/cyclist-4-empty.png', 'images/cyclist-5-empty.png', 'images/cyclist-6-empty.png', ","              'images/cyclist-7-empty.png', 'images/cyclist-8-empty.png', 'images/cyclist-9-empty.png', ","              'images/cyclist-10-empty.png', 'images/cyclist-11-empty.png', 'images/cyclist-12-empty.png', ","              'images/cyclist-13-empty.png', 'images/cyclist-14-empty.png', 'images/cyclist-15-empty.png'];","","var usedImages = [];","var usedImagesCount = 0;","","function displayImage() {","    var num = Math.floor(Math.random() *15);","    if (!usedImages[num]) {","        document.getElementById(\"newImage\").src = images[num];","        document.getElementById(\"newImageBack\").src= images[num];","        usedImages[num] = true;","        usedImagesCount++;","        if (usedImagesCount === images.length) {","            usedImagesCount = 0;","            usedImages = [];","        }","    } else {","        displayImage();","    }","} ","","/*","- The Next-Button triggers myRoundCounter() and myRound(). ","- myRoundCounter() starts displayImage() as long as 'roundnrVal' is smaller than 'numberOfRounds'","*/","$(\"#buttonNext\").click(function() {","    myRoundCounter();","    myRound();    ","});","","/*-","- functionStartGame() starts the game and shows the first random image from the images-array","- Header is hidden on devices smaller than 700px.","*/","var headerScreenSize = window.matchMedia(\"(max-width: 700px)\");","","function functionStartGame(){","    displayImage();","    $(\"#buttonStart, #buttonHowToPlay\").addClass(\"hidden\");","    $(\"#buttonHint, #buttonSubmit, #textField, #scoreboardSp, #count, #round\").removeClass(\"hidden\");","    if (headerScreenSize.matches) { ","    $(\"header\").addClass(\"hidden\");","    } else {","    }","}","","/*","- The Start-Button triggers functionStartGame","*/","$(\"#buttonStart\").click(function() {","    functionStartGame();        ","});","","/*","- Flip() is used to make the main image flip.","- Flip() takes 600ms. ","*/","$(function() {","    $(\".flip-card-inner\").flip({ ","        trigger: \"manual\", speed: 600","    });","});"," ","/*","- functionGiveHint() flips the main image.","- The empty-image is replaced by the flag-image, which means the flag of the cyclists nation is show after flip().","- The class 'GotHint' is added to the image, to let the scoreboard know the user got a hint (that costs a point).","- The hint-button is hidden for the remainder of the round.","- setTimeout() is set to 200ms to make sure the new image isn't visible before flip() is done far enough.  ","*/","function functionGiveHint() {","    var nSrcHint = $(\"#newImage, #newImageBack\").attr('src').replace(\"-empty.png\", \"-flag.png\");   ","    $(\"#buttonHint\").addClass(\"hidden\");  ","    $(\"#newImage\").addClass(\"gotHint\");          ","    $(\".flip-card-inner\").flip('toggle');","        setTimeout(function () {   ","            $(\"#newImage, #newImageBack\").attr('src', nSrcHint);","        }, 200);","} ","","/* ","The Hint Button triggers functionGiveHint()","*/","$(\"#buttonHint\").click(function() {","    functionGiveHint();","});","","/*","- rightAnswer() flips the main image.","- The empty-image is replaced by the image with the name of the cyclist and the flag of his nation after flip().","- The flag-image is replaced by the image with the name of the cyclist and the flag of his nation after flip().","*/","function rightAnswer() {","    ","    var nSrc = $(\"#newImage, #newImageBack\").attr('src').replace(\"-empty\", \"\").replace(\"-flag\", \"\");  ","        $(\".flip-card-inner\").flip('toggle');","        setTimeout(function () {","            $(\"#newImage, #newImageBack\").attr('src', nSrc);  ","        }, 200);","    } ","    ","/*","- myScore takes care of the scoreboard and the comments after each correct answer.","- \"Yes, that's him\" is shown after a correct answer.","- If the user recieved a hint and got a wrong answer, 1 point is added to te scoreboard.","- If the user either recieved a hint or got a wrong answer, 2 points are added to te scoreboard.","- If the user recieved no hint and didn't give a wrong answer, 3 points is added to te scoreboard.","*/","var score = $(\"#scoreboard\");","","function myScore() {","    $(\"#comment\").removeClass(\"hidden\").text(\"Yes, that's him!\");","    if ($(\"#newImage\").hasClass(\"gotHint\") &&  $(\"#newImage\").hasClass(\"gotWrongAnswer\")) {","        score.val( parseInt(score.val()) + 1 ); ","    } else if ($(\"#newImage\").hasClass(\"gotHint\") || $(\"#newImage\").hasClass(\"gotWrongAnswer\")) {","        score.val( parseInt(score.val()) + 2 ); ","    } else {","        score.val( parseInt(score.val()) + 3 );","    }","}"," ","/*","- runGame() checks the given answer against the right answer.","- All answer are turned to uppercase, to make sure the use of upper- or lowercase doesn't have any influence.","- If the answer is correct rightAnswer() and myScore() are executed.","- If the answer is wrong, the image is blurred and the user gets the option to try again or to give up.","- Trying again costs one point. Giving a wrong answer again will make the right answer appear. No point are given.","*/","function runGame() {","    $(\"#buttonNext\").removeClass(\"hidden\");","    $(\"#buttonHint, #buttonSubmit, #textField\").addClass(\"hidden\");","    var answer = $(\"#textField\").val(); ","    var nSrc = $(\"#newImage, #newImageBack\").attr('src').replace(\"-empty\", \"\").replace(\"-flag\", \"\");","    if ($(\"#newImage\").attr('src').indexOf(\"-1-\") > -1 && answer.toUpperCase() == \"JACQUES ANQUETIL\") {","        rightAnswer();    ","        myScore();","    } else if ($(\"#newImage\").attr('src').indexOf(\"-2-\") > -1 && answer.toUpperCase() == \"LANCE ARMSTRONG\") {","        rightAnswer();","        myScore();","    } else if ($(\"#newImage\").attr('src').indexOf(\"-3-\") > -1 && answer.toUpperCase() == \"GINO BARTALI\") {","        rightAnswer();","        myScore();","    } else if ($(\"#newImage\").attr('src').indexOf(\"-4-\") > -1 && answer.toUpperCase() == \"FAUSTO COPPI\") {","        rightAnswer();","        myScore();","    } else if ($(\"#newImage\").attr('src').indexOf(\"-5-\") > -1 && answer.toUpperCase() == \"MIGUEL INDURAIN\") {","        rightAnswer();","        myScore();","    } else if ($(\"#newImage\").attr('src').indexOf(\"-6-\") > -1 && answer.toUpperCase() == \"BERNARD HINAULT\") {","        rightAnswer();","        myScore();","    } else if ($(\"#newImage\").attr('src').indexOf(\"-7-\") > -1 && answer.toUpperCase() == \"LOUISON BOBET\") {","        rightAnswer();","        myScore();","    } else if ($(\"#newImage\").attr('src').indexOf(\"-8-\") > -1 && answer.toUpperCase() == \"JOOP ZOETEMELK\") {","        rightAnswer();","        myScore();","    } else if ($(\"#newImage\").attr('src').indexOf(\"-9-\") > -1 && answer.toUpperCase() == \"EDDY MERCKX\") {","        rightAnswer();","        myScore();","    } else if ($(\"#newImage\").attr('src').indexOf(\"-10-\") > -1 && answer.toUpperCase() == \"SEAN KELLY\") {","        rightAnswer();","        myScore();","    } else if ($(\"#newImage\").attr('src').indexOf(\"-11-\") > -1 && answer.toUpperCase() == \"ALFREDO BINDA\") {","        rightAnswer();","        myScore();","    } else if ($(\"#newImage\").attr('src').indexOf(\"-12-\") > -1 && answer.toUpperCase() == \"RIK VAN STEENBERGEN\") {","        rightAnswer();","        myScore();","    } else if ($(\"#newImage\").attr('src').indexOf(\"-13-\") > -1 && answer.toUpperCase() == \"OSCAR FREIRE\") {","        rightAnswer();","        myScore();","    } else if ($(\"#newImage\").attr('src').indexOf(\"-14-\") > -1 && answer.toUpperCase() == \"LAURENT JALABERT\") {","        rightAnswer();","        myScore();","    } else if ($(\"#newImage\").attr('src').indexOf(\"-15-\") > -1 && answer.toUpperCase() == \"MARCO PANTANI\") {","        rightAnswer();","        myScore();","    } else {","        $(\"#newImage\").addClass('blur');","        $(\"#newImageBack\").addClass('blur');  ","        if ($(\"#newImage\").hasClass(\"gotWrongAnswer\")){","            $(\"#newImage, #newImageBack\").attr('src', nSrc);","            $(\"#buttonNext\").removeClass(\"hidden\");","            $(\"#comment\").removeClass(\"hidden\").text(\"Sorry, no score\");","            $(\"#newImage, #newImageBack\").removeClass('blur');","            } else {","            $(\"#comment\").removeClass(\"hidden\").text(\"Nope, that's not him\");","            $(\"#buttonTryAgain, #buttonGiveUp\").removeClass(\"hidden\");","            $(\"#buttonNext\").addClass(\"hidden\");","            $(\"#newImage\").addClass(\"gotWrongAnswer\");   ","        }","    }","}","","/*","The Submit Button triggers runGame().","*/","$(\"#buttonSubmit\").click(function() {","    runGame();","});","","/*","When the player is in the textfield, hitting 'Enter' on the key board will call runGame() ","*/","$(\"#textField\").keypress(function(event) {","    if (event.which == 13) {","       runGame();","    }","  }); ","","/* ","- If after a wrong answer the user wants another try:","- The 'blur'-class is removed.","*/","$(\"#buttonTryAgain\").click(function() {","    $(\"#newImage, #newImageBack\").removeClass('blur');","    $(\"#comment, #buttonTryAgain, #buttonGiveUp\").addClass(\"hidden\");","    $(\"#buttonSubmit, #textField\").removeClass(\"hidden\");","    if ($(\"#newImage\").attr('src').endsWith(\"empty.png\")) {","        $(\"#buttonHint\").removeClass(\"hidden\");","    } else if ($(\"#newImage\").attr('src').endsWith(\"flag.png\")) {","        $(\"#buttonHint\").addClass(\"hidden\");","    }     ","});","","/* ","- If after a wrong answer the user gives up:","- rightAnswer() is run.","- The \"Sorry, no score\"-message shows.","*/","$(\"#buttonGiveUp\").click(function() {","    rightAnswer();","    $(\"#newImage, #newImageBack\").removeClass('blur');","    $(\"#comment\").removeClass(\"hidden\").text(\"Sorry, no score\");","    $(\"#buttonTryAgain, #buttonGiveUp\").addClass(\"hidden\");","    $(\"#buttonNext\").removeClass(\"hidden\");","});","","/*","- commentOnScore() takes care of the comments on the score the user reached at the end of the game. The number of points scored, decide which message.","*/","function commentOnScore() {   ","    $(\"#scoreComment\").removeClass(\"hidden\"); ","    if (score.val() < 10) {","        $(\"#scoreComment\").text(\"Maybe you should try again?\");","    } else if (score.val() < 15) { ","        $(\"#scoreComment\").text(\"Not too bad!\");","    } else if (score.val() < 20) { ","        $(\"#scoreComment\").text(\"You're getting there!\");","    } else if (score.val() < 25) { ","        $(\"#scoreComment\").text(\"Nice job!\");","    } else if (score.val() < 29) { ","        $(\"#scoreComment\").text(\"Wow, that's impressive!\");","    } else if (score.val() == 30) { ","        $(\"#scoreComment\").text(\"You're a true champion!\");","    } else {","        $(\"#scoreComment\").text(\"Something went wrong...\");","    }","}","","/*","Reset the game after finishing it by clicking the Play Again-button. ","*/","$(function(){","","    $(\"#buttonReset\").click(function() {","        window.location.reload();","    });});","","/*","For Mobile only: Jump down the page for an explanation of the rules and back up again to start the game.","*/","function explainGame() {","    window.location.href = '#sidebar';","  }","","$(\"#buttonHowToPlay\").click(function() {","    explainGame();","});","","function goBackUp() {","    window.location.href = '#headerQuestion'; ","  }","","$(\"#buttonGoBackUp\").click(function() {","    goBackUp();","});"]}],[{"start":{"row":323,"column":4},"end":{"row":323,"column":19},"action":"remove","lines":["buttonHowToPlay"],"id":84},{"start":{"row":323,"column":4},"end":{"row":323,"column":26},"action":"insert","lines":["buttonHowToPlayTheGame"]}],[{"start":{"row":84,"column":22},"end":{"row":84,"column":37},"action":"remove","lines":["buttonHowToPlay"],"id":85},{"start":{"row":84,"column":22},"end":{"row":84,"column":44},"action":"insert","lines":["buttonHowToPlayTheGame"]}],[{"start":{"row":139,"column":4},"end":{"row":140,"column":0},"action":"remove","lines":["",""],"id":86},{"start":{"row":139,"column":4},"end":{"row":139,"column":8},"action":"remove","lines":["    "]},{"start":{"row":139,"column":4},"end":{"row":139,"column":5},"action":"remove","lines":["v"]}],[{"start":{"row":139,"column":4},"end":{"row":139,"column":5},"action":"insert","lines":["v"],"id":87}]]},"ace":{"folds":[],"scrolltop":2853,"scrollleft":0,"selection":{"start":{"row":180,"column":10},"end":{"row":180,"column":15},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1567511428843}